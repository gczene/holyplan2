/*jslint node: true */

'use strict';

var wrapper = require('./wrapper');

/**
 * API wrapper factory.
 * @author Gabor Sar <gabor.sar@rightster.com>
 */
var factory = exports;

/**
 * Wrapper instances.
 * @type {Object}
 */
factory.wrappers = {};

/**
 * Returns a wrapper instance.
 * @param {String} name
 * @param {Object} options
 */
factory.get = function (name, options) {

    // get optional paramteres
    name = name || 'anonymous';
    options = options || {};

    // get and prepare wrapper
    if (!this.wrappers[name]) {
        this.wrappers[name] = Object.create(wrapper);
        this.wrappers[name].setOptions(options);
    }

    // return wrapper
    return this.wrappers[name];
};
